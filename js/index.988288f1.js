var e=Object.defineProperty,t=(t,r,o)=>(((t,r,o)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o})(t,"symbol"!=typeof r?r+"":r,o),o);import{J as r,o,c as n,X as s,ag as a,as as i}from"./@vue.962d419f.js";import{d as c,c as l}from"./pinia.c32067d4.js";/* empty css                      */import{E as u,i as m,z as p}from"./element-plus.d5014fd1.js";import{Q as d}from"./@element-plus.bc468cf4.js";import{c as h,a as f}from"./vue-router.be8e2924.js";import{a as _}from"./axios.62e8f306.js";import{d as g,u as b}from"./dayjs.0f6007d7.js";import"./lodash-es.603b8f1d.js";import"./@vueuse.2c61da4b.js";import"./@popperjs.fd04dfd6.js";import"./@ctrl.5f67d428.js";import"./async-validator.73a10b83.js";import"./memoize-one.c87f6fc8.js";import"./escape-html.86960cf8.js";import"./normalize-wheel-es.e2b4fa49.js";import"./@floating-ui.cac404ee.js";import"./form-data.7576b880.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const y=r({setup:()=>({})}),j=(e,t)=>{const r=e.__vccOpts||e;for(const[o,n]of t)r[o]=n;return r},E={class:"app"};const O=j(y,[["render",function(e,t,r,i,c,l){const u=a("RouterView");return o(),n("div",E,[s(u)])}],["__scopeId","data-v-dbcbad12"]]),w={},I=function(e,t,r){if(!t||0===t.length)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if(e=function(e,t){return new URL(e,t).href}(e,r),e in w)return;w[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(!!r)for(let r=o.length-1;r>=0;r--){const n=o[r];if(n.href===e&&(!t||"stylesheet"===n.rel))return}else if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))};const v=new class{setCache(e,t){window.localStorage.setItem(e,JSON.stringify(t))}getCache(e){const t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}deleteCache(e){window.localStorage.removeItem(e)}clearCache(){window.localStorage.clear()}},L={path:"/main/analysis/dashboard",name:"dashboard",component:()=>I((()=>import("./dashboard.6ad7153b.js")),["./dashboard.6ad7153b.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./card.06b2e87c.js","..\\css\\card.8e622611.css","./echarts.efbadb97.js","./zrender.e0570c7e.js","./pinia.c32067d4.js","./countup.js.ab279ed7.js","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\dashboard.2cc6f8b7.css","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},T=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"})),P={path:"/main/analysis/overview",name:"overview",component:()=>I((()=>import("./overview.8fc0ceb5.js")),["./overview.8fc0ceb5.js","./card.06b2e87c.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","..\\css\\card.8e622611.css","./highlight.js.2009f900.js","..\\css\\highlight.5f5db245.css","./pinia.c32067d4.js","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\overview.cf8134cd.css","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},S=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),M={path:"/main/product/category",name:"category",component:()=>I((()=>import("./category.c08caf6e.js")),["./category.c08caf6e.js","./page-search.e9482e21.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./use-page-modal.90503c36.js","./page-content.8b0e19af.js","./pinia.c32067d4.js","..\\css\\page-content.d72f832e.css","..\\css\\use-page-modal.e048c0bf.css","..\\css\\page-search.47ab1db5.css","./use-page-search.0afda9a9.js","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},D=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"})),R={path:"/main/product/goods",name:"goods",component:()=>I((()=>import("./goods.c32f56c2.js")),["./goods.c32f56c2.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./page-content.8b0e19af.js","./pinia.c32067d4.js","..\\css\\page-content.d72f832e.css","./page-search.e9482e21.js","./use-page-modal.90503c36.js","..\\css\\use-page-modal.e048c0bf.css","..\\css\\page-search.47ab1db5.css","./use-page-search.0afda9a9.js","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},A=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"})),C={path:"/main/story/chat",name:"chat",component:()=>I((()=>import("./chat.b06d7731.js")),["./chat.b06d7731.js","./wangeditor.44d5fb59.js","./dayjs.0f6007d7.js","./@vue.962d419f.js","./pinia.c32067d4.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\chat.a4e1faf7.css","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},k=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"})),z={path:"/main/story/list",name:"list",component:()=>I((()=>import("./list.e205512e.js")),["./list.e205512e.js","./page-content.8b0e19af.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./pinia.c32067d4.js","..\\css\\page-content.d72f832e.css","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},q=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"})),V={path:"/main/system/department",name:"department",component:()=>I((()=>import("./department.2284434e.js")),["./department.2284434e.js","./page-search.e9482e21.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./use-page-modal.90503c36.js","./page-content.8b0e19af.js","./pinia.c32067d4.js","..\\css\\page-content.d72f832e.css","..\\css\\use-page-modal.e048c0bf.css","..\\css\\page-search.47ab1db5.css","./use-page-search.0afda9a9.js","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},N=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"})),U={path:"/main/system/menu",name:"menu",component:()=>I((()=>import("./menu.c755a8b5.js")),["./menu.c755a8b5.js","./page-content.8b0e19af.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./pinia.c32067d4.js","..\\css\\page-content.d72f832e.css","./use-page-modal.90503c36.js","..\\css\\use-page-modal.e048c0bf.css","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},$=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),x={path:"/main/system/role",name:"role",component:()=>I((()=>import("./role.d4df8db2.js")),["./role.d4df8db2.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./page-search.e9482e21.js","./use-page-modal.90503c36.js","./page-content.8b0e19af.js","./pinia.c32067d4.js","..\\css\\page-content.d72f832e.css","..\\css\\use-page-modal.e048c0bf.css","..\\css\\page-search.47ab1db5.css","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\role.223061fe.css","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},Y=Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"})),H={path:"/main/system/user",name:"user",component:()=>I((()=>import("./user.62a0a1df.js")),["./user.62a0a1df.js","./page-search.e9482e21.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./use-page-modal.90503c36.js","./page-content.8b0e19af.js","./pinia.c32067d4.js","..\\css\\page-content.d72f832e.css","..\\css\\use-page-modal.e048c0bf.css","..\\css\\page-search.47ab1db5.css","./use-page-search.0afda9a9.js","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\user.e3b0c442.css","..\\css\\normalize.9d9ae4af.css"],import.meta.url),children:[]},J=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));let B=null;function G(e,t,r){for(const o of e)if(1===o.type){const e=G(o.children??[],t);if(e)return r?.push({name:o.name}),r?.push({name:e.name}),e}else if(2===o.type&&o.url===t)return o}function K(e,t){const r=[];return G(e,t,r),r}function Q(e){const t=[],r=e=>{for(const o of e)o.children?r(o.children):t.push(o.id)};return r(e),t}const W=h({routes:[{path:"/",redirect:"/main"},{path:"/login",name:"login",component:()=>I((()=>import("./login.f0f34622.js")),["./login.f0f34622.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./pinia.c32067d4.js","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\login.a412fbfe.css","..\\css\\normalize.9d9ae4af.css"],import.meta.url)},{path:"/main",name:"main",component:()=>I((()=>import("./main.9bc1454b.js")),["./main.9bc1454b.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vue.962d419f.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./vue-router.be8e2924.js","./pinia.c32067d4.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\main.ec27450d.css","..\\css\\normalize.9d9ae4af.css"],import.meta.url)},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>I((()=>import("./not-found.79882fdb.js")),["./not-found.79882fdb.js","./@vue.962d419f.js","./pinia.c32067d4.js","./element-plus.d5014fd1.js","./lodash-es.603b8f1d.js","./@vueuse.2c61da4b.js","./@element-plus.bc468cf4.js","./@popperjs.fd04dfd6.js","./@ctrl.5f67d428.js","./dayjs.0f6007d7.js","./async-validator.73a10b83.js","./memoize-one.c87f6fc8.js","./escape-html.86960cf8.js","./normalize-wheel-es.e2b4fa49.js","./@floating-ui.cac404ee.js","..\\css\\element-plus.227e4629.css","./vue-router.be8e2924.js","./axios.62e8f306.js","./form-data.7576b880.js","..\\css\\normalize.9d9ae4af.css"],import.meta.url)}],history:f()});W.beforeEach((e=>{if("/login"!==e.path){if(!v.getCache("token"))return"/login";if("/main"===e.path)return B.url}}));let X="";X="/api";const F=new class{constructor(e){t(this,"instance"),t(this,"interceptors"),t(this,"loading"),t(this,"showLoading"),this.instance=_.create(e),this.interceptors=e.interceptors,this.showLoading=e.showLoading??false,this.instance.interceptors.request.use(this.interceptors?.requestInterceptor,this.interceptors?.requestInterceptorCatch),this.instance.interceptors.response.use(this.interceptors?.responseInterceptor,this.interceptors?.responseInterceptorCatch),this.instance.interceptors.request.use((e=>(this.showLoading&&(this.loading=u.service({lock:!0,text:"正在加载...",background:"rgba(0, 0, 0, 0.5)"})),e)),(e=>e)),this.instance.interceptors.response.use((e=>{this.loading?.close();const t=e.data;if("-1001"!==t.returnCode)return t}),(e=>(e.response.status,this.loading?.close(),e)))}request(e){return new Promise(((t,r)=>{e.interceptors?.requestInterceptor&&(e=e.interceptors.requestInterceptor(e)),!1===e.showLoading&&(this.showLoading=e.showLoading),this.instance.request(e).then((r=>{e.interceptors?.responseInterceptor&&(r=e.interceptors.responseInterceptor(r)),this.showLoading=false,t(r)})).catch((e=>(this.showLoading=false,r(e),e)))}))}get(e){return this.request({...e,method:"GET"})}post(e){return this.request({...e,method:"POST"})}delete(e){return this.request({...e,method:"DELETE"})}patch(e){return this.request({...e,method:"PATCH"})}}({baseURL:"/api",timeout:1e5,interceptors:{requestInterceptor:e=>{const t=v.getCache("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},requestInterceptorCatch:e=>e,responseInterceptor:e=>e,responseInterceptorCatch:e=>e}});function Z(e,t){return F.post({url:e,data:t})}function ee(e){return F.delete({url:e})}function te(e,t){return F.post({url:e,data:t})}function re(e,t){return F.patch({url:e,data:t})}const oe=c("root",{state:()=>({entireDepartment:[],entireRole:[],entireMenu:[]}),actions:{async getInitialDataAction(){const e=await Z("/department/list",{offset:0,size:1e3}),{list:t}=e.data,r=await Z("/role/list",{offset:0,size:1e3}),{list:o}=r.data,n=await Z("/menu/list",{}),{list:s}=n.data;this.changeEntireDepartment(t),this.changeEntireRole(o),this.changeEntireMenu(s)},changeEntireDepartment(e){this.entireDepartment=e},changeEntireRole(e){this.entireRole=e},changeEntireMenu(e){this.entireMenu=e}}}),ne=c("login",{state:()=>({token:"",userInfo:{},userMenus:[],permissions:[]}),actions:{async accountLoginAction(e){const t=await(r=e,F.post({url:"/login",data:r}));var r;const{id:o,token:n}=t.data;this.changeToken(n),v.setCache("token",n);oe().getInitialDataAction();const s=await function(e){return F.get({url:"/users/"+e,showLoading:!1})}(o),a=s.data;this.changeUserInfo(a),v.setCache("userInfo",a);const i=await function(e){return F.get({url:"/role/"+e+"/menu",showLoading:!1})}(a.role.id),c=i.data;this.changeMenus(c),v.setCache("userMenus",c),W.push("/main")},loadLocalLogin(){const e=v.getCache("token");if(e){this.changeToken(e);oe().getInitialDataAction()}const t=v.getCache("userInfo");t&&this.changeUserInfo(t);const r=v.getCache("userMenus");r&&this.changeMenus(r)},changeToken(e){this.token=e},changeUserInfo(e){this.userInfo=e},changeMenus(e){this.userMenus=e;const t=function(e){const t=[],r=[],o=Object.assign({"../router/main/analysis/dashboard/dashboard.ts":T,"../router/main/analysis/overview/overview.ts":S,"../router/main/product/category/category.ts":D,"../router/main/product/goods/goods.ts":A,"../router/main/story/chat/chat.ts":k,"../router/main/story/list/list.ts":q,"../router/main/system/department/department.ts":N,"../router/main/system/menu/menu.ts":$,"../router/main/system/role/role.ts":Y,"../router/main/system/user/user.ts":J});Object.values(o).forEach((e=>{r.push(e.default)}));const n=e=>{for(const o of e)if(2===o.type){const e=r.find((e=>e.path===o.url));e&&t.push(e),B||(B=o)}else n(o.children)};return n(e),t}(e);t.forEach((e=>{W.addRoute("main",e)}));const r=function(e){const t=[],r=e=>{for(const o of e)1===o.type||2===o.type?r(o.children??[]):3===o.type&&t.push(o.permission)};return r(e),t}(e);this.permissions=r}}});g.extend(b);function se(e){e.config.globalProperties.$filters={foo(){},formatTime:e=>function(e,t="YYYY-MM-DD HH:mm:ss"){return g.utc(e).utcOffset(8).format(t)}(e)}}const ae=l(),ie=i(O);ie.use(m,{locale:p});for(const[ce,le]of Object.entries(d))ie.component(ce,le);ie.use((function(e){e.use(se)})),ie.use(ae);ne().loadLocalLogin(),ie.use(W),ie.mount("#app");export{j as _,ne as a,K as b,te as c,ee as d,re as e,Z as g,v as l,Q as m,G as p,F as s,oe as u};
